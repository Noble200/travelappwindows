<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Allva.Desktop.ViewModels"
             mc:Ignorable="d" d:DesignWidth="1100" d:DesignHeight="800"
             x:Class="Allva.Desktop.Views.MenuHamburguesa.OperacionesView"
             x:DataType="vm:OperacionesViewModel">

    <UserControl.Styles>
        <!-- Estilo para tabs -->
        <Style Selector="Button.tab-button">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="#595959"/>
            <Setter Property="Padding" Value="24,10"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="CornerRadius" Value="0"/>
        </Style>
        
        <Style Selector="Button.tab-button:pointerover">
            <Setter Property="Background" Value="#F5F5F5"/>
        </Style>
        
        <Style Selector="Button.tab-button-selected">
            <Setter Property="Background" Value="#ffd966"/>
            <Setter Property="Foreground" Value="#0b5394"/>
            <Setter Property="Padding" Value="24,10"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="CornerRadius" Value="0"/>
        </Style>
        
        <!-- Estilo para botones de filtro -->
        <Style Selector="Button.filter-button">
            <Setter Property="Background" Value="#ffd966"/>
            <Setter Property="Foreground" Value="#0b5394"/>
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>
        
        <Style Selector="Button.filter-button:pointerover">
            <Setter Property="Background" Value="#E8C85A"/>
        </Style>
        
        <!-- Estilo para inputs -->
        <Style Selector="TextBox.filter-input">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="CornerRadius" Value="4"/>
        </Style>
        
        <!-- Estilo para inputs de fecha pequenos -->
        <Style Selector="TextBox.fecha-input">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="2,6"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        </Style>
        
        <!-- Estilo para ComboBox de filtro -->
        <Style Selector="ComboBox.filter-combo">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="CornerRadius" Value="4"/>
        </Style>
        
        <!-- Estilo para boton de accion principal -->
        <Style Selector="Button.action-button">
            <Setter Property="Background" Value="#0b5394"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="CornerRadius" Value="6"/>
        </Style>
        
        <Style Selector="Button.action-button:pointerover">
            <Setter Property="Background" Value="#084171"/>
        </Style>
    </UserControl.Styles>

    <Grid Margin="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <Border Grid.Row="0" 
                Background="#ffd966"
                Padding="24,14">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0"
                           Text="OPERACIONES"
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="#0b5394"
                           VerticalAlignment="Center"/>
                
                <TextBlock Grid.Column="1"
                           Text="{Binding FechaActualTexto}"
                           FontSize="12"
                           Foreground="#666666"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           FontStyle="Italic"/>
                
                <TextBlock Grid.Column="2"
                           Text="{Binding LocalInfo}"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Foreground="#0b5394"
                           VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- CONTENIDO PRINCIPAL -->
        <Grid Grid.Row="1" Margin="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="220"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- PANEL DE FILTROS -->
            <Border Grid.Column="0"
                    Background="#FAFAFA"
                    BorderBrush="#E8E8E8"
                    BorderThickness="0,0,1,0"
                    Padding="16,20">
                <StackPanel Spacing="16">
                    
                    <!-- Titulo Filtrar -->
                    <Border Background="#ffd966"
                            CornerRadius="6"
                            Padding="14,10">
                        <TextBlock Text="Filtrar"
                                   FontSize="15"
                                   FontWeight="SemiBold"
                                   Foreground="#0b5394"
                                   HorizontalAlignment="Center"/>
                    </Border>
                    
                    <!-- Fecha Desde -->
                    <StackPanel Spacing="6">
                        <TextBlock Text="Fecha Desde"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Foreground="#333333"/>
                        <Grid ColumnDefinitions="38,25,38,25,52">
                            <TextBox Grid.Column="0" 
                                     Classes="fecha-input"
                                     Watermark="Dia"
                                     Text="{Binding FechaDesdeDia}"
                                     MaxLength="2"/>
                            <TextBlock Grid.Column="1" Text="/" 
                                       VerticalAlignment="Center" 
                                       HorizontalAlignment="Center"
                                       Foreground="#666666"/>
                            <TextBox Grid.Column="2" 
                                     Classes="fecha-input"
                                     Watermark="Mes"
                                     Text="{Binding FechaDesdeMes}"
                                     MaxLength="2"/>
                            <TextBlock Grid.Column="3" Text="/" 
                                       VerticalAlignment="Center" 
                                       HorizontalAlignment="Center"
                                       Foreground="#666666"/>
                            <TextBox Grid.Column="4" 
                                     Classes="fecha-input"
                                     Watermark="Año"
                                     Text="{Binding FechaDesdeAnio}"
                                     MaxLength="4"/>
                        </Grid>
                    </StackPanel>
                    
                    <!-- Fecha Hasta -->
                    <StackPanel Spacing="6">
                        <TextBlock Text="Fecha Hasta"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Foreground="#333333"/>
                        <Grid ColumnDefinitions="38,25,38,25,52">
                            <TextBox Grid.Column="0" 
                                     Classes="fecha-input"
                                     Watermark="Dia"
                                     Text="{Binding FechaHastaDia}"
                                     MaxLength="2"/>
                            <TextBlock Grid.Column="1" Text="/" 
                                       VerticalAlignment="Center" 
                                       HorizontalAlignment="Center"
                                       Foreground="#666666"/>
                            <TextBox Grid.Column="2" 
                                     Classes="fecha-input"
                                     Watermark="Mes"
                                     Text="{Binding FechaHastaMes}"
                                     MaxLength="2"/>
                            <TextBlock Grid.Column="3" Text="/" 
                                       VerticalAlignment="Center" 
                                       HorizontalAlignment="Center"
                                       Foreground="#666666"/>
                            <TextBox Grid.Column="4" 
                                     Classes="fecha-input"
                                     Watermark="Año"
                                     Text="{Binding FechaHastaAnio}"
                                     MaxLength="4"/>
                        </Grid>
                    </StackPanel>
                    
                    <!-- N Operacion -->
                    <StackPanel Spacing="6">
                        <TextBlock Text="N Operacion"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Foreground="#333333"/>
                        <TextBox Classes="filter-input"
                                 Watermark="Desde"
                                 Text="{Binding OperacionDesde}"/>
                        <TextBox Classes="filter-input"
                                 Watermark="Hasta"
                                 Text="{Binding OperacionHasta}"/>
                    </StackPanel>
                    
                    <!-- Tipo Operacion -->
                    <StackPanel Spacing="6">
                        <TextBlock Text="Tipo"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Foreground="#333333"/>
                        <ComboBox Classes="filter-combo"
                                  ItemsSource="{Binding TiposOperacion}"
                                  SelectedItem="{Binding TipoOperacionFiltro}"
                                  HorizontalAlignment="Stretch"/>
                    </StackPanel>
                    
                    <!-- Divisa (solo visible en tab divisa) -->
                    <StackPanel Spacing="6" IsVisible="{Binding MostrarFiltroDivisa}">
                        <TextBlock Text="Divisa"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Foreground="#333333"/>
                        <ComboBox Classes="filter-combo"
                                  ItemsSource="{Binding DivisasDisponibles}"
                                  SelectedItem="{Binding DivisaSeleccionada}"
                                  HorizontalAlignment="Stretch"/>
                    </StackPanel>
                    
                    <!-- Boton Buscar -->
                    <Button Content="Buscar"
                            Classes="filter-button"
                            Command="{Binding BuscarCommand}"
                            Margin="0,8,0,0"/>
                    
                    <!-- Boton Limpiar -->
                    <Button Content="Limpiar"
                            Background="White"
                            Foreground="#666666"
                            BorderBrush="#CCCCCC"
                            BorderThickness="1"
                            Padding="12,8"
                            CornerRadius="4"
                            HorizontalAlignment="Stretch"
                            Cursor="Hand"
                            Command="{Binding LimpiarFiltrosCommand}"/>
                    
                    <!-- Boton Imprimir -->
                    <Button Command="{Binding ImprimirHistorialCommand}"
                            Background="Transparent"
                            BorderThickness="0"
                            HorizontalAlignment="Stretch"
                            Cursor="Hand"
                            Margin="0,8,0,0">
                        <TextBlock Text="Imprimir historial"
                                   FontSize="12"
                                   Foreground="#0b5394"
                                   HorizontalAlignment="Center"/>
                    </Button>
                    
                </StackPanel>
            </Border>

            <!-- CONTENIDO DERECHO -->
            <Border Grid.Column="1"
                    Background="White"
                    Padding="20">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Spacing="16">
                        
                        <!-- TABS -->
                        <Border Background="#F5F5F5" CornerRadius="6" Padding="4">
                            <StackPanel Orientation="Horizontal" Spacing="0">
                                <Button Content="Billetes avion"
                                        Classes="tab-button"
                                        Command="{Binding CambiarTabCommand}"
                                        CommandParameter="billetes"/>
                                <Button Content="Pack viaje"
                                        Classes="tab-button"
                                        Command="{Binding CambiarTabCommand}"
                                        CommandParameter="viaje"/>
                                <Button Content="Pack alimentos"
                                        Classes="tab-button"
                                        Command="{Binding CambiarTabCommand}"
                                        CommandParameter="alimentos"/>
                                <Button Content="Divisa"
                                        Classes="tab-button-selected"
                                        Command="{Binding CambiarTabCommand}"
                                        CommandParameter="divisa"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- TABLA DE OPERACIONES -->
                        <Border BorderBrush="#E0E0E0"
                                BorderThickness="1"
                                CornerRadius="6"
                                ClipToBounds="True">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Header de tabla -->
                                <Border Grid.Row="0"
                                        Background="#0b5394"
                                        Padding="0">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="80"/>
                                            <ColumnDefinition Width="130"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="90"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <TextBlock Grid.Column="0" Text="Fecha" 
                                                   Foreground="White" FontWeight="SemiBold" FontSize="12"
                                                   Padding="10,10" HorizontalAlignment="Center"/>
                                        <TextBlock Grid.Column="1" Text="N Operacion" 
                                                   Foreground="White" FontWeight="SemiBold" FontSize="12"
                                                   Padding="10,10" HorizontalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Text="Descripcion" 
                                                   Foreground="White" FontWeight="SemiBold" FontSize="12"
                                                   Padding="10,10"/>
                                        <TextBlock Grid.Column="3" Text="Divisa" 
                                                   Foreground="White" FontWeight="SemiBold" FontSize="12"
                                                   Padding="10,10" HorizontalAlignment="Center"/>
                                        <TextBlock Grid.Column="4" Text="Euros Sal." 
                                                   Foreground="White" FontWeight="SemiBold" FontSize="12"
                                                   Padding="10,10" HorizontalAlignment="Center"/>
                                        <TextBlock Grid.Column="5" Text="Euros Ent." 
                                                   Foreground="White" FontWeight="SemiBold" FontSize="12"
                                                   Padding="10,10" HorizontalAlignment="Center"/>
                                        <TextBlock Grid.Column="6" Text="Beneficio" 
                                                   Foreground="White" FontWeight="SemiBold" FontSize="12"
                                                   Padding="10,10" HorizontalAlignment="Center"/>
                                    </Grid>
                                </Border>
                                
                                <!-- Filas de datos -->
                                <ScrollViewer Grid.Row="1" 
                                              MaxHeight="250"
                                              VerticalScrollBarVisibility="Auto">
                                    <ItemsControl ItemsSource="{Binding Operaciones}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border Background="{Binding BackgroundColor}"
                                                        BorderBrush="#EEEEEE"
                                                        BorderThickness="0,0,0,1">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="80"/>
                                                            <ColumnDefinition Width="130"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="100"/>
                                                            <ColumnDefinition Width="100"/>
                                                            <ColumnDefinition Width="100"/>
                                                            <ColumnDefinition Width="90"/>
                                                        </Grid.ColumnDefinitions>
                                                        
                                                        <TextBlock Grid.Column="0" Text="{Binding Fecha}" 
                                                                   FontSize="12" Foreground="#444444"
                                                                   Padding="10,8" HorizontalAlignment="Center"/>
                                                        <TextBlock Grid.Column="1" Text="{Binding NumeroOperacion}" 
                                                                   FontSize="11" Foreground="#444444"
                                                                   Padding="10,8" HorizontalAlignment="Center"
                                                                   TextTrimming="CharacterEllipsis"/>
                                                        <TextBlock Grid.Column="2" Text="{Binding Descripcion}" 
                                                                   FontSize="12" Foreground="#444444"
                                                                   Padding="10,8"/>
                                                        <TextBlock Grid.Column="3" Text="{Binding CantidadDivisa}" 
                                                                   FontSize="12" Foreground="#0b5394" FontWeight="SemiBold"
                                                                   Padding="10,8" HorizontalAlignment="Center"/>
                                                        <TextBlock Grid.Column="4" Text="{Binding EurosEntregados}" 
                                                                   FontSize="12" Foreground="#CC3333" FontWeight="Medium"
                                                                   Padding="10,8" HorizontalAlignment="Center"/>
                                                        <TextBlock Grid.Column="5" Text="{Binding EurosRecibidos}" 
                                                                   FontSize="12" Foreground="#008800" FontWeight="Medium"
                                                                   Padding="10,8" HorizontalAlignment="Center"/>
                                                        <TextBlock Grid.Column="6" Text="{Binding Beneficio}" 
                                                                   FontSize="12" Foreground="{Binding BeneficioColor}" FontWeight="SemiBold"
                                                                   Padding="10,8" HorizontalAlignment="Center"/>
                                                    </Grid>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                        
                        <!-- Mensaje sin operaciones -->
                        <TextBlock Text="No se encontraron operaciones"
                                   FontSize="13"
                                   Foreground="#888888"
                                   HorizontalAlignment="Center"
                                   IsVisible="{Binding !Operaciones.Count}"/>
                        
                        <!-- BALANCE ACTUAL -->
                        <Border Background="#F8F8F8"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1"
                                CornerRadius="6"
                                Padding="16,12">
                            <Grid ColumnDefinitions="Auto,*,Auto,Auto,Auto">
                                <Border Grid.Column="0"
                                        Background="#0b5394"
                                        CornerRadius="4"
                                        Padding="16,8">
                                    <TextBlock Text="BALANCE ACTUAL"
                                               FontSize="13"
                                               FontWeight="Bold"
                                               Foreground="White"/>
                                </Border>
                                
                                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="4">
                                    <TextBlock Text="Divisa:"
                                               FontSize="11"
                                               Foreground="#666666"
                                               VerticalAlignment="Center"/>
                                    <Border Background="White"
                                            BorderBrush="#0b5394"
                                            BorderThickness="2"
                                            CornerRadius="4"
                                            Padding="16,6">
                                        <TextBlock Text="{Binding BalanceDivisa}"
                                                   FontSize="14"
                                                   FontWeight="Bold"
                                                   Foreground="#0b5394"/>
                                    </Border>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4" Margin="16,0,0,0">
                                    <TextBlock Text="Euros:"
                                               FontSize="11"
                                               Foreground="#666666"
                                               VerticalAlignment="Center"/>
                                    <Border Background="White"
                                            BorderBrush="#0b5394"
                                            BorderThickness="2"
                                            CornerRadius="4"
                                            Padding="16,6">
                                        <TextBlock Text="{Binding BalanceEuro}"
                                                   FontSize="14"
                                                   FontWeight="Bold"
                                                   Foreground="#0b5394"/>
                                    </Border>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="4" Orientation="Horizontal" Spacing="4" Margin="16,0,0,0">
                                    <TextBlock Text="Beneficio:"
                                               FontSize="11"
                                               Foreground="#666666"
                                               VerticalAlignment="Center"/>
                                    <Border Background="#ffd966"
                                            CornerRadius="4"
                                            Padding="16,6">
                                        <TextBlock Text="{Binding BalanceBeneficio}"
                                                   FontSize="14"
                                                   FontWeight="Bold"
                                                   Foreground="#0b5394"/>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>
                        
                        <!-- DEPOSITO EN BANCO -->
                        <Border Background="#0b5394"
                                CornerRadius="6"
                                Padding="20,14">
                            <StackPanel Spacing="14">
                                <TextBlock Text="Deposito en banco"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="White"
                                           HorizontalAlignment="Center"/>
                                
                                <Grid ColumnDefinitions="Auto,Auto,Auto,*,Auto,*,Auto">
                                    <TextBlock Grid.Column="0"
                                               Text="Divisa"
                                               FontSize="13"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               Margin="0,0,12,0"/>
                                    
                                    <Border Grid.Column="1"
                                            Background="#ffd966"
                                            CornerRadius="4"
                                            Padding="4,2">
                                        <ComboBox ItemsSource="{Binding DivisasParaBanco}"
                                                  SelectedItem="{Binding DivisaBancoSeleccionada}"
                                                  MinWidth="80"
                                                  Background="Transparent"
                                                  BorderThickness="0"/>
                                    </Border>
                                    
                                    <TextBlock Grid.Column="2"
                                               Text="Cantidad a depositar"
                                               FontSize="13"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               Margin="20,0,12,0"/>
                                    
                                    <Border Grid.Column="3"
                                            Background="White"
                                            CornerRadius="4"
                                            Margin="0,0,8,0">
                                        <TextBox Text="{Binding CantidadDivisaDepositar}"
                                                 BorderThickness="0"
                                                 Padding="10,8"
                                                 FontSize="13"
                                                 Watermark="Ej: 500"/>
                                    </Border>
                                    
                                    <TextBlock Grid.Column="4"
                                               Text="Euros recibidos"
                                               FontSize="13"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               Margin="8,0,12,0"/>
                                    
                                    <Border Grid.Column="5"
                                            Background="White"
                                            CornerRadius="4"
                                            Margin="0,0,8,0">
                                        <TextBox Text="{Binding CantidadEurosRecibidos}"
                                                 BorderThickness="0"
                                                 Padding="10,8"
                                                 FontSize="13"
                                                 Watermark="Ej: 450"/>
                                    </Border>
                                    
                                    <Button Grid.Column="6"
                                            Content="Insertar"
                                            Classes="filter-button"
                                            Command="{Binding InsertarDepositoBancoCommand}"/>
                                </Grid>
                            </StackPanel>
                        </Border>
                        
                        <!-- RETIRAR BENEFICIO DEL DIA -->
                        <Border Background="#ffd966"
                                CornerRadius="6"
                                Padding="20,14">
                            <Grid ColumnDefinitions="Auto,*,Auto,Auto,Auto">
                                <TextBlock Grid.Column="0"
                                           Text="Retirar beneficio del dia"
                                           FontSize="15"
                                           FontWeight="SemiBold"
                                           Foreground="#0b5394"
                                           VerticalAlignment="Center"/>
                                
                                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="12">
                                    <TextBlock Text="Beneficio hoy:"
                                               FontSize="13"
                                               Foreground="#0b5394"
                                               VerticalAlignment="Center"
                                               FontWeight="Medium"/>
                                    <Border Background="White"
                                            BorderBrush="#0b5394"
                                            BorderThickness="2"
                                            CornerRadius="4"
                                            Padding="20,8">
                                        <TextBlock Text="{Binding BeneficioDelDia}"
                                                   FontSize="15"
                                                   FontWeight="Bold"
                                                   Foreground="#008800"/>
                                    </Border>
                                </StackPanel>
                                
                                <Button Grid.Column="4"
                                        Content="Retirar"
                                        Classes="action-button"
                                        Margin="16,0,0,0"
                                        Command="{Binding RetirarBeneficioCommand}"/>
                            </Grid>
                        </Border>
                        
                        <!-- MENSAJES -->
                        <TextBlock Text="{Binding ErrorMessage}"
                                   Foreground="#CC3333"
                                   FontSize="13"
                                   FontWeight="Medium"
                                   IsVisible="{Binding ErrorMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
                                   HorizontalAlignment="Center"/>
                        
                        <TextBlock Text="{Binding SuccessMessage}"
                                   Foreground="#008800"
                                   FontSize="13"
                                   FontWeight="Medium"
                                   IsVisible="{Binding SuccessMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
                                   HorizontalAlignment="Center"/>
                        
                        <!-- BOTON VOLVER -->
                        <Button Content="Volver a inicio"
                                Classes="action-button"
                                HorizontalAlignment="Left"
                                Margin="0,8,0,0"
                                Command="{Binding VolverCommand}"/>
                        
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
        
        <!-- Loading overlay -->
        <Border Grid.RowSpan="2"
                Background="#80000000"
                IsVisible="{Binding IsLoading}">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Spacing="12">
                <TextBlock Text="Cargando..."
                           Foreground="White"
                           FontSize="16"
                           FontWeight="Medium"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
